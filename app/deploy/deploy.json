{
    "defaultStacks": [ "content-api-sanity-tests" ],
    "packages": {
        "sanity-tests": {
            "type": "autoscaling",
            "data": {
                "bucket": "content-api-sanity-tests-dist"
            }
        },
        "sanity-tests-ami-update" : {
            "type": "ami-cloudformation-parameter",
            "data": {
                "amiTags" : { "Recipe": "ubuntu-wily-java8", "AmigoStage" : "PROD" },
                "amiParameter" : "AMI",
                "cloudFormationStackName": "content-api-sanity-tests",
                "prependStackToCloudFormationStackName" : false,
                "appendStageToCloudFormationStackName" : true
            }
        }
    },
    "recipes": {
        "default": {
            "depends": [ "artifactUploadOnly", "deployOnly" ]
        },
        "artifactUploadOnly": {
            "actions": [ "sanity-tests.uploadArtifacts" ]
        },
        "deployOnly": {
            "actions": [ "sanity-tests.deploy" ]
        },
        "ami-cloudformation-parameter" : {
            "actions": [ "sanity-tests-ami-update.update" ]
        }
    }
}
